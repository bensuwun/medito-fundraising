// currencyConverter.ts

type ExchangeRates = Record<string, number>;

export default function createCurrencyConverter(): (amount: number, fromCurrency: string) => number {
    const exchangeRates: ExchangeRates = {
        USD: 1.0000,
        AED: 3.6725,
        AFN: 88.2450,
        ALL: 101.2000,
        AMD: 481.7500,
        ANG: 1.7900,
        AOA: 676.5000,
        ARS: 97.5000,
        AUD: 1.3500,
        AWG: 1.7900,
        AZN: 1.7000,
        BAM: 1.6500,
        BBD: 2.0000,
        BDT: 85.5000,
        BGN: 1.6100,
        BIF: 1980.0000,
        BMD: 1.0000,
        BND: 1.3600,
        BOB: 6.9100,
        BRL: 5.3000,
        BSD: 1.0000,
        BWP: 14.1500,
        BYN: 2.5200,
        BZD: 2.0000,
        CAD: 1.2800,
        CDF: 1980.0000,
        CHF: 0.9000,
        CLP: 770.0000,
        CNY: 6.4000,
        COP: 3760.0000,
        CRC: 570.0000,
        CVE: 100.0000,
        CZK: 21.5000,
        DJF: 177.0000,
        DKK: 6.1000,
        DOP: 56.0000,
        DZD: 140.0000,
        EGP: 15.6500,
        ETB: 45.0000,
        EUR: 0.8200,
        FJD: 2.0800,
        FKP: 0.7100,
        GBP: 0.7100,
        GEL: 3.1000,
        GIP: 0.7100,
        GMD: 52.0000,
        GNF: 10000.0000,
        GTQ: 7.7500,
        GYD: 208.0000,
        HKD: 7.7800,
        HNL: 23.5000,
        HTG: 75.0000,
        HUF: 305.0000,
        IDR: 14100.0000,
        ILS: 3.2800,
        INR: 74.5000,
        ISK: 128.0000,
        JMD: 155.0000,
        JPY: 113.0000,
        KES: 110.0000,
        KGS: 84.0000,
        KHR: 4100.0000,
        KMF: 415.0000,
        KRW: 1170.0000,
        KYD: 0.8200,
        KZT: 432.0000,
        LAK: 9900.0000,
        LBP: 1500.0000,
        LKR: 199.0000,
        LRD: 209.0000,
        LSL: 15.1000,
        MAD: 9.2000,
        MDL: 18.2000,
        MGA: 3900.0000,
        MKD: 55.0000,
        MMK: 1600.0000,
        MNT: 2850.0000,
        MOP: 8.0000,
        MUR: 40.5000,
        MVR: 15.5000,
        MWK: 800.0000,
        MXN: 20.0000,
        MYR: 4.0800,
        MZN: 74.0000,
        NAD: 15.1000,
        NGN: 410.0000,
        NIO: 35.0000,
        NOK: 9.1200,
        NPR: 124.0000,
        NZD: 1.4400,
        PAB: 1.0000,
        PEN: 4.0800,
        PGK: 3.5600,
        PHP: 50.0000,
        PKR: 230.0000,
        PLN: 4.2000,
        PYG: 6700.0000,
        QAR: 3.6400,
        RON: 4.1000,
        RSD: 100.0000,
        RUB: 77.0000,
        RWF: 1200.0000,
        SAR: 3.7500,
        SBD: 8.2000,
        SCR: 20.0000,
        SEK: 8.5500,
        SGD: 1.3600,
        SHP: 0.7100,
        SLE: 10900.0000,
        SOS: 580.0000,
        SRD: 21.0000,
        STD: 21000.0000,
        SZL: 15.1000,
        THB: 32.5000,
        TJS: 11.3000,
        TOP: 2.2800,
        TRY: 11.0000,
        TTD: 6.8000,
        TWD: 28.5000,
        TZS: 2300.0000,
        UAH: 27.0000,
        UGX: 3700.0000,
        UYU: 42.5000,
        UZS: 11000.0000,
        VND: 22200.0000,
        VUV: 110.0000,
        WST: 2.5500,
        XAF: 550.0000,
        XCD: 2.7000,
        XOF: 550.0000,
        XPF: 100.0000,
        YER: 250.0000,
        ZAR: 15.1000,
        ZMW: 25.0000
    };

    return function convert(amount: number, fromCurrency: string): number {
        if (!(fromCurrency in exchangeRates)) {
            throw new Error("Unsupported currency");
        }

        const rate = exchangeRates['USD'] / exchangeRates[fromCurrency];
        return Math.floor(amount * rate);
    };
}